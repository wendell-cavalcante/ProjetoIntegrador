<UserControl x:Class="PIProjetpCards.Screens.FlashCards"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:PIProjetpCards.Screens"
             Height="800" 
             Width="800">


    <Grid Background="#6E458D">

        <ContentControl x:Name="PainelDeEdicao"
                Width="360"
                HorizontalAlignment="Right"
                VerticalAlignment="Top"
                Margin="0,60,20,0"
                Background="White"
                Visibility="Collapsed"
                BorderBrush="Gray"
                BorderThickness="1"
                Padding="10"/>


        <!--//definir uma visualização 3D//-->

        <Viewport3D Height="800"
                    Width="800" Initialized="Viewport3D_Initialized" >

            <!--// defina a câmera para a janela de visualização //-->

            <Viewport3D.Camera>
                <PerspectiveCamera Position="0,0,4" />
            </Viewport3D.Camera>

            <!--// definir um elemento visual 2D dentro da janela de visualização 3D//-->

            <Viewport2DVisual3D x:Name="ViewPort">

                <!--// aplicar uma transformação ao elemento visual 2D //-->

                <Viewport2DVisual3D.Transform>

                    <RotateTransform3D>
                        <RotateTransform3D.Rotation>
                            <AxisAngleRotation3D Angle="0"
                                                 Axis="0,1,0" />
                        </RotateTransform3D.Rotation>
                    </RotateTransform3D>
                </Viewport2DVisual3D.Transform>

                <!--// definir a geometria do elemento visual 2D //-->

                <Viewport2DVisual3D.Geometry>
                    <MeshGeometry3D Positions="-1,1,0,-1,-1,0,1,-1,0,1,1,0"
                                    TextureCoordinates="0,0 0,1 1,1 1,0"
                                    TriangleIndices="0 1 2 0 2 3" />
                </Viewport2DVisual3D.Geometry>

                <!--// defina o material para o elemento visual 2D //-->

                <Viewport2DVisual3D.Material>
                    <DiffuseMaterial Viewport2DVisual3D.IsVisualHostMaterial="True"
                                      Brush="Indigo" />
                </Viewport2DVisual3D.Material>

                <!--// adicione um botão de alternância //-->

                <ToggleButton x:Name="Flip_Card"
                              Cursor="Hand">

                    <!--// alternar estilo do botão //-->

                    <ToggleButton.Style>
                        <Style TargetType="ToggleButton">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="ToggleButton">
                                        <Border x:Name="border"
                                            BorderThickness="0">
                                            <ContentPresenter />
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>

                    </ToggleButton.Style>

                    <ToggleButton.Content>

                        <Grid>

                            <!--// Frente //-->

                            <local:FrontSide x:Name="Front_Side" />

                            <!--// Verso //-->

                            <local:BackSide x:Name="Back_Side" 
                             Opacity="0"/> 

                        </Grid>

                    </ToggleButton.Content>

                    <!--// Botão de alternância - Evento verificado //-->

                    <ToggleButton.Triggers>
                        <EventTrigger RoutedEvent="ToggleButton.Checked">
                            <BeginStoryboard>

                                <!--// Animação Front Side//-->

                                <Storyboard>
                                    <DoubleAnimation Storyboard.TargetName="Front_Side"
                                                     Storyboard.TargetProperty="(Image.Opacity)"
                                                     BeginTime="0:0:0.5"
                                                     Duration="0:0:0"
                                                     From="1.0"
                                                     To="0.0" />
                                </Storyboard>
                            </BeginStoryboard>

                            <!--// Animação Back Side//-->

                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation Storyboard.TargetName="Back_Side"
                                                        Storyboard.TargetProperty="(Image.Opacity)"
                                                        BeginTime="0:0:0.5"
                                                        Duration="0:0:0"
                                                        From="0.0"
                                                        To="1.0" />

                                </Storyboard>
                            </BeginStoryboard>

                            <!--// Crie uma animação de rotação para animar a janela de visualização//-->

                            <BeginStoryboard>
                                <Storyboard>
                                    <Rotation3DAnimation Storyboard.TargetName="ViewPort"
                                                         Storyboard.TargetProperty="(Viewport2DVisual3D.Transform).(RotateTransform3D.Rotation)"
                                                         Duration="0:0:0.5"
                                                         BeginTime="0:0:0">

                                        <!--// definir os valores de rotação iniciais //-->

                                        <Rotation3DAnimation.From>
                                            <AxisAngleRotation3D Angle="0"
                                                                 Axis="0,1,0"/>
                                        </Rotation3DAnimation.From>

                                        <!--// definir os valores finais de rotação //-->

                                        <Rotation3DAnimation.To>
                                            <AxisAngleRotation3D Angle="90"
                                                                 Axis="0,1,0"/>
                                        </Rotation3DAnimation.To>

                                    </Rotation3DAnimation>

                                    <Rotation3DAnimation Storyboard.TargetName="ViewPort"
                                                         Storyboard.TargetProperty="(Viewport2DVisual3D.Transform).(RotateTransform3D.Rotation)"
                                                         Duration="0:0:0.5"
                                                         BeginTime="0:0:0.5">

                                        <Rotation3DAnimation.From>
                                            <AxisAngleRotation3D Angle="-90"
                                                                 Axis="0,1,0" />
                                        </Rotation3DAnimation.From>

                                        <Rotation3DAnimation.To>
                                            <AxisAngleRotation3D Angle="0"
                                                                 Axis="0,1,0" />
                                        </Rotation3DAnimation.To>

                                    </Rotation3DAnimation>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>

                        <!--// Botão de alternância - Evento não verificado //-->

                        <EventTrigger RoutedEvent="ToggleButton.Unchecked">
                            <BeginStoryboard>
                                <!--// Animação Back Side//-->
                                <Storyboard>
                                    <DoubleAnimation Storyboard.TargetName="Back_Side"
                                                     Storyboard.TargetProperty="(Image.Opacity)"
                                                     BeginTime="0:0:0.5"
                                                     Duration="0:0:0"
                                                     From="1.0"
                                                     To="0.0" />
                                </Storyboard>
                            </BeginStoryboard>


                            <BeginStoryboard>
                                <Storyboard>

                                    <!--// Animação Front Side//-->

                                    <DoubleAnimation Storyboard.TargetName="Front_Side"
                                                        Storyboard.TargetProperty="(Image.Opacity)"
                                                        BeginTime="0:0:0.5"
                                                        Duration="0:0:0"
                                                        From="0.0"
                                                        To="1.0" />
                                </Storyboard>
                            </BeginStoryboard>

                            <BeginStoryboard>
                                <Storyboard>

                                    <Rotation3DAnimation Storyboard.TargetName="ViewPort"
                                                         Storyboard.TargetProperty="(Viewport2DVisual3D.Transform).(RotateTransform3D.Rotation)"
                                                         Duration="0:0:0.5"
                                                         BeginTime="0:0:0.5">

                                        <Rotation3DAnimation.From>
                                            <AxisAngleRotation3D Angle="-90"
                                                                 Axis="0,1,0" />
                                        </Rotation3DAnimation.From>

                                        <Rotation3DAnimation.To>
                                            <AxisAngleRotation3D Angle="0"
                                                                 Axis="0,1,0" />
                                        </Rotation3DAnimation.To>

                                    </Rotation3DAnimation>

                                    <Rotation3DAnimation Storyboard.TargetName="ViewPort"
                                                         Storyboard.TargetProperty="(Viewport2DVisual3D.Transform).(RotateTransform3D.Rotation)"
                                                         Duration="0:0:0.5"
                                                         BeginTime="0:0:0.5">
                                        <Rotation3DAnimation.From>
                                            <AxisAngleRotation3D Angle="90"
                                                                 Axis="0,1,0" />
                                        </Rotation3DAnimation.From>
                                        <Rotation3DAnimation.To>
                                            <AxisAngleRotation3D Angle="0"
                                                                 Axis="0,1,0" />
                                        </Rotation3DAnimation.To>

                                    </Rotation3DAnimation>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </ToggleButton.Triggers>

                </ToggleButton>

            </Viewport2DVisual3D>

            <!--//criar um modelo de elemento visual 3D //-->

            <ModelVisual3D>

                <!--// definir o conteúdo do modelo visual 3d //-->

                <ModelVisual3D.Content>

                    <!--// crie uma luz direcional com uma cor e direção específicas //-->

                    <DirectionalLight Color="White"
                                      Direction="0,0,-1" />

                </ModelVisual3D.Content>


            </ModelVisual3D>

        </Viewport3D>

        <!-- Botões de Navegação -->
        <StackPanel Orientation="Horizontal"
            HorizontalAlignment="Center"
            VerticalAlignment="Bottom"
            Margin="0,0,0,20"
            Panel.ZIndex="10">
            <Button Content="⏮ Anterior" Width="120" Margin="10,0" Click="Anterior_Click"/>
            <Button Content="Próximo ⏭" Width="120" Margin="10,0" Click="Proximo_Click"/>
        </StackPanel>


        <!--// Botão Sair //-->

        <Button x:Name="ExitBtn" Content="SAIR" Cursor="Hand" Margin="677,21,32,743" Click="Button_Click">
            <Button.Resources>
                <Style TargetType="Border">
                    <Setter Property="CornerRadius" Value="20" />
                </Style>
            </Button.Resources>
        </Button>

        <StackPanel Orientation="Horizontal"
            HorizontalAlignment="Center"
            VerticalAlignment="Bottom"
            Margin="0,0,0,80"
            Panel.ZIndex="10"
            >
            <TextBlock x:Name="lblAcertos"
               FontSize="16"
               FontWeight="Bold"
               Foreground="Green"
               Margin="10"/>
            <TextBlock x:Name="lblErros"
               FontSize="16"
               FontWeight="Bold"
               Foreground="Red"
               Margin="10"/>
        </StackPanel>


    </Grid>
</UserControl>

